{% load static %}
{% if user.is_superuser or user.is_staff %}
<!-- Admin Sidebar -->
<nav class="col-md-2 d-none d-md-flex flex-column align-items-center bg-white border-right py-4 min-vh-100 shadow-sm"
    aria-label="Admin Sidebar">
    <div class="mb-4 text-center w-100">
        <img src="{% static 'images/user.png' %}" alt="Admin" class="rounded-circle mb-2 img-fluid shadow"
            style="width:70px; height:70px; object-fit:cover;">
        <div class="font-weight-bold text-uppercase mt-2 text-dark">
            <i class="fas fa-user-shield"></i> {{ user.get_full_name }}
        </div>
        <div class="text-muted">Admin</div>
    </div>
    <ul class="nav flex-column w-100">
        <li class="nav-item mb-2">
            <a class="nav-link active font-weight-bold d-flex align-items-center px-3 py-2 rounded text-white bg-dark"
                href="/admin/">
                <i class="fas fa-tachometer-alt mr-2"></i> <span>Admin Dashboard</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-danger" href="{% url 'signout' %}">
                <i class="fas fa-sign-out-alt mr-2"></i> <span>Logout</span>
            </a>
        </li>
    </ul>
    <div class="mt-auto w-100 text-center pb-3">
        <small class="text-muted">&copy; {{ year|default:"2025" }} ClassTrack</small>
    </div>
</nav>
{% elif user.teacher_profile %}
<!-- Teacher Sidebar -->
<nav class="col-md-2 d-none d-md-flex flex-column align-items-center bg-white border-right py-4 min-vh-100 shadow-sm"
    aria-label="Teacher Sidebar">
    <div class="mb-4 text-center w-100">
        <img src="{% static 'images/user.png' %}" alt="Teacher" class="rounded-circle mb-2 img-fluid shadow"
            style="width:70px; height:70px; object-fit:cover;">
        <div class="font-weight-bold text-uppercase mt-2 text-primary">{{ user.get_full_name }}</div>
        {% if user.teacher_profile %}
        <div class="text-muted">@{{ user.teacher_profile.employee_id }}</div>
        {% else %}
        <div class="text-muted">@{{ user.username }}</div>
        {% endif %}
        <div class="text-muted small">Teacher</div>
    </div>
    <ul class="nav flex-column w-100">
        <li class="nav-item mb-2">
            <a class="nav-link active font-weight-bold d-flex align-items-center px-3 py-2 rounded text-white bg-primary"
                href="{% url 'dashboard' %}">
                <i class="fas fa-tachometer-alt mr-2"></i> <span>Dashboard</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-users mr-2"></i> <span>My Classes</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-calendar-check mr-2"></i> <span>Attendance</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-book mr-2"></i> <span>Study Materials</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-bullhorn mr-2"></i> <span>Announcements</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-calendar mr-2"></i> <span>Schedule</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-clipboard-list mr-2"></i> <span>Assessment</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-user-edit mr-2"></i> <span>My Profile</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-danger" href="{% url 'signout' %}">
                <i class="fas fa-sign-out-alt mr-2"></i> <span>Log out</span>
            </a>
        </li>
    </ul>
    <div class="mt-auto w-100 text-center pb-3">
        <small class="text-muted">&copy; {{ year|default:"2025" }} ClassTrack</small>
    </div>
</nav>
{% elif user.student_profile %}
<!-- Student Sidebar -->
<nav class="col-md-2 d-none d-md-flex flex-column align-items-center bg-white border-right py-4 min-vh-100 shadow-sm"
    aria-label="Student Sidebar">
    <div class="mb-4 text-center w-100">
        <img src="{% static 'images/user.png' %}" alt="Student" class="rounded-circle mb-2 img-fluid shadow"
            style="width:70px; height:70px; object-fit:cover;">
        <div class="font-weight-bold text-uppercase mt-2 text-primary">{{ user.get_full_name }}</div>
        {% if user.student_profile %}
        <div class="text-muted">@{{ user.student_profile.student_id }}</div>
        {% else %}
        <div class="text-muted">@{{ user.username }}</div>
        {% endif %}
        <div class="text-muted small">
            {% if user.student_profile.category == 'science-jee' %}
            Science - JEE
            {% elif user.student_profile.category == 'science-neet' %}
            Science - NEET
            {% elif user.student_profile.category == 'commerce-ca' %}
            Commerce - CA
            {% else %}
            Student
            {% endif %}
        </div>
    </div>
    <ul class="nav flex-column w-100">
        <li class="nav-item mb-2">
            <a class="nav-link active font-weight-bold d-flex align-items-center px-3 py-2 rounded text-white bg-primary"
                href="{% url 'dashboard' %}">
                <i class="fas fa-tachometer-alt mr-2"></i> <span>Dashboard</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-calendar-check mr-2"></i> <span>My Attendance</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-book-open mr-2"></i> <span>Study Materials</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark position-relative" href="#">
                <i class="fas fa-bullhorn mr-2"></i> <span>Announcements</span>
                <span class="badge badge-danger ml-auto">3</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-calendar mr-2"></i> <span>My Schedule</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-chart-line mr-2"></i> <span>Performance</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-comment mr-2"></i> <span>Message</span>
            </a>
        </li>
        <li class="nav-item mb-2">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-dark" href="#">
                <i class="fas fa-user-edit mr-2"></i> <span>My Profile</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link d-flex align-items-center px-3 py-2 rounded text-danger" href="{% url 'signout' %}">
                <i class="fas fa-sign-out-alt mr-2"></i> <span>Log out</span>
            </a>
        </li>
    </ul>
    <div class="mt-auto w-100 text-center pb-3">
        <small class="text-muted">&copy; {{ year|default:"2025" }} ClassTrack</small>
    </div>
</nav>
{% endif %}